<div class="container note-size" ng-controller="poczekalniaPageCtrl">

    <div ng-repeat="note in view">
        <div class="box14">
            <!-- Note description -->
            <div class="row note-title">
                <div class="col-lg-8 col-xs-8">
                    <a href="#/notes/{{note.id}}"><div class="note-title-title"> {{ note.title }} </div></a>
                </div>
                <div class="col-lg-4 col-xs-4">
                    <div class="note-title-comments">
                        <div class="dropdown">
                            <button ng-show="session.state > 2" class="btn btn-sm btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><span class="caret"></span></button> <span><a href="#"><i class="fa fa-comments"></i> {{ note.comments }}</a></span>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                                <li><a ng-controller="deleteCtrl" ng-click="delete(note.id)">Delete</a></li>
                                <li><a ng-controller="moveToMainFastCtrl" ng-click="moveToMainFast(note.id)">moveToMainFast</a></li>
                                <li><a ng-controller="moveToMainCtrl" ng-click="moveToMain(note.id)">moveToMain</a></li>
                                <li><a>Zbanuj usera (to implement)</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-8 col-xs-8">
                    <div class="note-copright"><i class="fa fa-user"></i> {{ note.login }} </div>

                </div>
                <div class="col-lg-4 col-xs-4">
                    <div class="note-date"> <i class="fa fa-calendar"></i> {{ note.date }} </div>
                </div>
            </div>

            <!-- Note image -->
            <a ng-href="#/notes/{{note.id}}"><img ng-src='resources/images/notes/{{ note.id }}.png' class="img-responsive img-rounded"></a>

            <div class="row">
            <div class="col-lg-12 note-rank" ng-controller="rate">
                <a ng-click='rate(note.id, "plus")'  class="action-button shadow animate green"><i class="fa fa-plus"></i></a>
                <div ng-if="rateinfo() == 1" class="note-rank-rank">{{ note.difference * 1 + 1 * 1}}</div>
                <div ng-if="rateinfo() == 0" class="note-rank-rank">{{ note.difference * 1}}</div>
                <div ng-if="rateinfo() == -1" class="note-rank-rank">{{ note.difference * 1 - 1 * 1}}</div>
                <a ng-click='rate(note.id, "minus")' class="action-button shadow animate red"><i class="fa fa-minus"></i></a>
            </div>
            </div>

        </div> <!-- END NOTE -->
    </div> <!-- .ng-repeat -->

</div>

<!-- Dodać dymek do obsługi błędów po powtórnym dodaniu plusa-->
